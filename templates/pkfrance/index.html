{% extends 'pkfrance/base.html' %}
{% load static %}

{% block title %}Communauté francais de Prehistoric Kingdom{% endblock %}

{% block description %}
    Prehistoric Kingdom est le jeu de gestion ultime d’un parc à dinosaures.
    Personnalisez à l’infini votre parc avec des dizaines d’espèces d’animaux disparus.
{% endblock %}

{% block on-index %}{% endblock %} <!-- enable indexing -->

{% block head %}
    <link rel="stylesheet" href="{% static 'css/timeline.min.css' %}">
{% endblock %}

{% block content %}
    <header>
        <div id="carouselExampleIndicators" class="carousel slide lazy" data-ride="carousel">
            <ol class="carousel-indicators">
                <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
                <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
                <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
                <li data-target="#carouselExampleIndicators" data-slide-to="3"></li>
                <li data-target="#carouselExampleIndicators" data-slide-to="4"></li>
                <li data-target="#carouselExampleIndicators" data-slide-to="5"></li>
                <li data-target="#carouselExampleIndicators" data-slide-to="6"></li>
                <li data-target="#carouselExampleIndicators" data-slide-to="7"></li>
                <li data-target="#carouselExampleIndicators" data-slide-to="8"></li>
                <li data-target="#carouselExampleIndicators" data-slide-to="9"></li>
            </ol>
            <div class="carousel-inner" role="listbox">
                <div class="carousel-item active">
                    <img class="d-block" data-src="{% static 'img/gallery/1.jpg' %}" width="100%" height="100%"
                         data-src-mobile="{% static 'img/gallery/1-mobile.jpg' %}" alt="Forêt" id="first-carousel">
                </div>

                <div class="carousel-item">
                    <img class="d-block" data-src="{% static 'img/gallery/2.jpg' %}" width="100%" height="100%"
                         data-src-mobile="{% static 'img/gallery/2-mobile.jpg' %}" alt="Deuxieme diapo">
                </div>

                <div class="carousel-item">
                    <img class="d-block" data-src="{% static 'img/gallery/3.jpg' %}" width="100%" height="100%"
                         data-src-mobile="{% static 'img/gallery/3-mobile.jpg' %}" alt="triceratops">
                </div>

                <div class="carousel-item">
                    <img class="d-block" data-src="{% static 'img/gallery/4.jpg' %}" width="100%" height="100%"
                         data-src-mobile="{% static 'img/gallery/4-mobile.jpg' %}" alt="Enclos">
                </div>

                <div class="carousel-item">
                    <img class="d-block" data-src="{% static 'img/gallery/5.jpg' %}" width="100%" height="100%"
                         data-src-mobile="{% static 'img/gallery/5-mobile.jpg' %}" alt="T rex">
                </div>

                <div class="carousel-item">
                    <img class="d-block" data-src="{% static 'img/gallery/6.jpg' %}" width="100%" height="100%"
                         data-src-mobile="{% static 'img/gallery/6-mobile.jpg' %}" alt="Dinosaure">
                </div>

                <div class="carousel-item">
                    <img class="d-block" data-src="{% static 'img/gallery/7.jpg' %}" width="100%" height="100%"
                         data-src-mobile="{% static 'img/gallery/7-mobile.jpg' %}" alt="Enclos de dino">
                </div>

                <div class="carousel-item">
                    <img class="d-block" data-src="{% static 'img/gallery/8.jpg' %}" width="100%" height="100%"
                         data-src-mobile="{% static 'img/gallery/8-mobile.jpg' %}" alt="Voiture et immeuble">
                </div>

                <div class="carousel-item">
                    <img class="d-block" data-src="{% static 'img/gallery/9.jpg' %}" width="100%" height="100%"
                         data-src-mobile="{% static 'img/gallery/9-mobile.jpg' %}" alt="T rex et une voiture">
                </div>

                <div class="carousel-item">
                    <img class="d-block" data-src="{% static 'img/gallery/10.jpg' %}" width="100%" height="100%"
                         data-src-mobile="{% static 'img/gallery/10-mobile.jpg' %}" alt="Balade">
                </div>
            </div>
            <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </a>
        </div>
    </header>

    <div class="container pb-4">

        <h1 class="mt-5 mb-5 text-center text-blue" id="about">
            Prehistoric Kingdom est le jeu de gestion ultime d’un parc à dinosaures.
            Personnalisez à l’infini votre parc avec des dizaines d’espèces d’animaux disparus.
        </h1>

        <p class="lead text-justify">
            Développé depuis 2014 par une équipe internationale de développeurs réunie dans le
            <span class="font-weight-bold">studio indépendant Shadow Raven</span>, le jeu sera disponible en
            <span class="font-weight-bold">Early access sur Steam à l’été 2019</span>, uniquement sur PC.
            Financé à 160% sur Kickstarter, vous pouvez continuer à soutenir le jeu et le
            <span class="font-weight-bold"> réserver sur</span>
            <a href="https://crytivo.com/en/prehistoric-kingdom" target="_blank">Crytivo</a>,
            à partir de <span class="font-weight-bold">16€</span>. Une
            <a href="https://store.steampowered.com/app/666150/Prehistoric_Kingdom/" target="_blank">Démo Pre-Alpha</a>
            est d’ores et
            déjà disponible <span class="font-weight-bold">sur Steam</span>.
        </p>

    </div>
    <div id="fact">
        <hr class="w-50">

        <div class="container">
            <h2 class="text-center pt-4 pb-4" id="dinofact">DINOFACT</h2>

            <div class="card mb-4">
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-4">
                            <img class="card-img-top" src="" id="fact-image" alt="image fact">
                        </div>
                        <div class="col-md-8 m-auto">
                            <table>
                                <thead>
                                <tr>
                                    <th>

                                        <blockquote class="blockquote mb-0 ">
                                            <h4 id="fact-body"></h4>
                                        </blockquote>
                                    </th>
                                    <th>
                                        <a onclick="dino_fact()" class="btn btn-link">
                                            <i class="fas fa-2x fa-arrow-right"></i>
                                        </a>
                                    </th>
                                </tr>
                                </thead>
                            </table>

                        </div>

                    </div>
                </div>
            </div>

        </div>
    </div>




    <div class="bg-green">
        <div class="container">

            <h2 class="pt-4 pb-4">Articles</h2>

            <div class="row pb-4">
                <div class="col-lg-4 col-sm-6 portfolio-item mb-3">
                    <div class="card h-100">
                        <a href="#">
                            <img class="card-img-top" src="{% static 'img/article/min_presentation.jpg' %}"
                                 alt="Présentation du jeu">
                        </a>
                        <div class="card-body">
                            <h4 class="card-title">
                                <a class="text-success" href="{% url 'article_presentation' %}">Présentation</a>
                            </h4>
                            <p class="card-text text-dark">
                                Prehistoric Kingdom France est le centre de la communauté francophone du jeu de gestion
                                Prehistoric Kingdom.
                                Retrouvez toutes les infos et actualités sur le jeu, son gameplay et l’avancée de son
                                développement.
                                Venez en discuter sur le forum !
                            </p>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 col-sm-6 portfolio-item mb-3">
                    <div class="card h-100">
                        <a href="#">
                            <img class="card-img-top" src="{% static 'img/article/min_gameplay.jpg' %}" alt="Gameplay">
                        </a>
                        <div class="card-body">
                            <h4 class="card-title">
                                <a class="text-success" href="{% url 'article_gameplay' %}">Gameplay</a>
                            </h4>
                            <p class="card-text text-dark">
                                50 espèces sont disponibles, du Mésozoïque (dinosaures) au Cénozoïque (mammifères comme
                                le Mammouth ou le Tigre à dents de sabre).
                                Elles sont débloquées et créées à partir de l’ADN extrait des fossiles, récoltés par des
                                équipes de fouilles réparties partout dans le monde par le joueur.
                            </p>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 col-sm-6 portfolio-item mb-3">
                    <div class="card h-100">
                        <a href="#"><img class="card-img-top" src="{% static 'img/article/min_modes.jpg' %}"
                                         alt="Fonctionnalités"></a>
                        <div class="card-body">
                            <h4 class="card-title">
                                <a class="text-success" href="{% url 'article_modes' %}">Modes de jeu</a>
                            </h4>
                            <p class="card-text text-dark">
                                Campagne: mécanique de jeu approfondie, déblocage de nouvelles espèces et événements
                                climatiques
                                - Scénario: missions aux scénarios préconçus, de la capture d’animaux en fuite au
                                sauvetage de parc en perdition
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div class="container">
        <!-- Timeline Section -->
        <h2 class="pt-4 pb-4" id="timeline">Timeline du développement</h2>

        <ul class="timeline">
            <li class="text-center mb-3">
                <span class="shadow-sm border flag">FULL RELEASE</span>
            </li>


            <li>
                <div class="direction-r">
                    <div class="flag-wrapper">
                        <span class="hexa"></span>
                        <span class="flag">Mode Ranger</span>
                    </div>
                    <div class="desc">
                        Vue à la 1ère personne et à la 3ème personne autorisant le joueur à marcher
                        dans le parc comme un ranger
                    </div>
                </div>
            </li>


            <li>
                <div class="direction-l">
                    <div class="flag-wrapper">
                        <span class="hexa"></span>
                        <span class="flag">Mode Campagne</span>
                    </div>
                    <div class="desc">
                        Sénarios et missions à objectifs
                    </div>
                </div>
            </li>


            <li>
                <div class="direction-r">
                    <div class="flag-wrapper">
                        <span class="hexa"></span>
                        <span class="flag">Patch "Aerial content"</span>
                    </div>
                    <div class="desc">
                        Mise à jour introduisant des animaux aériens et de nouveaux mécanismes de jeu
                        associés
                    </div>
                </div>
            </li>


            <li>
                <div class="direction-l">
                    <div class="flag-wrapper">
                        <span class="hexa"></span>
                        <span class="flag">Patch "Marine content"</span>
                    </div>
                    <div class="desc">
                        Mise à jour introduisant des animaux marins et de nouveaux mécanismes de jeu assocés
                    </div>
                </div>
            </li>


            <li>
                <div class="direction-r">
                    <div class="flag-wrapper">
                        <span class="hexa"></span>
                        <span class="flag">Maps et climats</span>
                    </div>
                    <div class="desc">
                        Implantation de nouvelles maps et climats
                    </div>
                </div>
            </li>


            <li>
                <div class="direction-l">
                    <div class="flag-wrapper">
                        <span class="hexa"></span>
                        <span class="flag">Animaux & bâtiments</span>
                    </div>
                    <div class="desc">
                        Ajout continu des animaux et bâtiments issus de l'Early access
                    </div>
                </div>
            </li>


            <li class="text-center mt-4 mb-4 ">
                <span class="shadow-sm border flag">EARLY ACCESS</span><span class="time-wrapper m-0 p-0"><span
                    class="time">été 2019</span></span>
            </li>

            <li>
                <div class="direction-l">
                    <div class="flag-wrapper">
                        <span class="hexa"></span>
                        <span class="flag">Béta fermée</span>
                    </div>
                    <div class="desc">
                        Les contributeurs Kickstarter recoivent leur clé
                    </div>
                </div>
            </li>


            <li>
                <div class="direction-r">
                    <div class="flag-wrapper">
                        <span class="hexa"></span>
                        <span class="flag"><i class="fas fa-check"></i> Contenu additionnel</span>
                    </div>
                    <div class="desc">
                        Nouveaux animaux, bâtiments, maps
                    </div>
                </div>
            </li>


            <li>
                <div class="direction-l">
                    <div class="flag-wrapper">
                        <span class="hexa"></span>
                        <span class="flag"><i class="fas fa-check"></i> Terraforming</span>
                    </div>
                    <div class="desc">
                        Ajout du terrain painting et améliorations
                    </div>
                </div>
            </li>


            <li>
                <div class="direction-r">
                    <div class="flag-wrapper">
                        <span class="hexa"></span>
                        <span class="flag"><i class="fas fa-check"></i> Gestion Appronfondie</span>
                    </div>
                    <div class="desc">
                        Fossiles, systèmes de recherche ...
                    </div>
                </div>
            </li>

            <li class="text-center mt-4 mb-4">
                <span class="shadow-sm border flag">PHASE PRÉ-ALPHA</span>
            </li>

            <li>
                <div class="direction-r">
                    <div class="flag-wrapper">
                        <span class="hexa"></span>
                        <span class="flag"><i class="fas fa-check"></i> Jurassic Patch</span>
                        <span class="time-wrapper"><span class="time">4 mars 2018</span></span>
                    </div>
                    <div class="desc">
                        Nouveaux bâtiments, nouvelles espèces
                    </div>
                </div>
            </li>


            <li>
                <div class="direction-l">
                    <div class="flag-wrapper">
                        <span class="hexa"></span>
                        <span class="flag"><i class="fas fa-check"></i> Kickstarter</span>
                        <span class="time-wrapper"><span class="time">Dec 2014 - Jan 2018</span></span>
                    </div>
                    <div class="desc">
                        +2000 contributeurs, 88950$ levés
                    </div>
                </div>
            </li>


            <li>
                <div class="direction-r">
                    <div class="flag-wrapper">
                        <span class="hexa"></span>
                        <span class="flag"><i class="fas fa-check"></i> Lancement du projet</span>
                        <span class="time-wrapper"><span class="time">2014</span></span>
                    </div>
                </div>
            </li>
        </ul>
        <!-- /.row -->

    </div>
{% endblock %}

{% block script %}


    <script>
        let fact_interval = setInterval(dino_fact, 8000);

        function dino_fact() {
            $.ajax({
                url: "{% url 'fact' %}",
                method: 'GET',
            }).done(function (data) {
                $("#fact-body").html(data['body']);
                $("#fact-image").attr('src', data['image']);
            });
            clearInterval(fact_interval);
            fact_interval = setInterval(dino_fact, 8000);
        }

        function lazy_carousel(element) {
            if (window.matchMedia("only screen and (max-width: 760px)").matches)
                element.attr("src", element.data('src-mobile'));
            else
                element.attr("src", element.data('src'));

            element.removeAttr("data-src").removeAttr("data-src-mobile");
        }


        dino_fact();
        lazy_carousel($("#first-carousel"));

        $(".lazy").on("slide.bs.carousel", function (ev) {
            let lazy = $(ev.relatedTarget).find("img[data-src]");
            lazy_carousel(lazy)
        });

    </script>
{% endblock %}
